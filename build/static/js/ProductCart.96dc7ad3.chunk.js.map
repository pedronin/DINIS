{"version":3,"file":"static/js/ProductCart.96dc7ad3.chunk.js","mappings":"gqBA4BA,IACA,EAAe,IAA0B,0D,SCiDzC,EAtD0C,SAAHA,GAAsB,IACrDC,EAAQ,CADqCD,EAARE,SAClBC,EAAUC,E,wznBAA8BC,EAAUC,EAAUC,EAAUC,E,s23BAA2CC,E,myYAC1IC,EAAwCC,EAAAA,SAAe,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAlDI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GAC9BI,EAAYL,EAAAA,OAA6B,MAkB/C,OACEM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EACnCC,EAAAA,EAAAA,KAAA,OAAKC,IAAKL,EAAWE,UAAU,2BAA0BC,UACvDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gCAA+BC,SAC3ClB,EAAMqB,KAAI,SAACC,EAAKC,GAAC,OAChBJ,EAAAA,EAAAA,KAAA,OAAKF,UAAU,+BAA8BC,UAC3CC,EAAAA,EAAAA,KAAA,OAAKF,UAAWJ,IAAiBU,EAAI,SAAW,GAAGL,UACjDC,EAAAA,EAAAA,KAAA,OAAKK,QAAS,kBAAMV,EAAgBS,EAAE,EAAEE,IAAKH,EAAKI,IAAI,QAFPH,EAI7C,SAIZJ,EAAAA,EAAAA,KAAA,UACEK,QA9Ba,WAAO,IAADG,EACvBb,GAAgB,SAACc,GAAI,OAAKA,EAAO,CAAC,IACjB,QAAjBD,EAAAZ,EAAUc,eAAO,IAAAF,GAAjBA,EAAmBG,SAAS,CAC1BC,KAAM,GACNC,SAAU,UAEd,EAyBMf,UAAS,iCAAAgB,OAAoD,IAAjBpB,EAAqB,SAAW,IAAKK,UACjFC,EAAAA,EAAAA,KAAA,OAAKM,IAAKS,EAAOR,IAAI,SAEvBP,EAAAA,EAAAA,KAAA,UACEK,QA3Ba,WAAO,IAADW,EACvBrB,GAAgB,SAACc,GAAI,OAAKA,EAAO,CAAC,IACjB,QAAjBO,EAAApB,EAAUc,eAAO,IAAAM,GAAjBA,EAAmBL,SAAS,CAC1BC,IAAK,GACLC,SAAU,UAEd,EAsBMf,UAAS,iCAAAgB,OACPpB,IAAiBb,EAAMoC,OAAS,EAAI,SAAW,IAC9ClB,UACHC,EAAAA,EAAAA,KAAA,OAAKM,IAAKS,EAAOR,IAAI,SAGvBP,EAAAA,EAAAA,KAAA,OAAKF,UAAU,8BAA6BC,UAC1CC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,GAAGQ,IAAKzB,EAAMa,GAAea,IAAI,SAIxD,EC/DMW,EAAuB,SAACC,EAA8BC,GAC1D,IAAK,IAAIhB,EAAI,EAAGA,EAAIe,EAAUF,OAAQb,IACpC,GAAIe,EAAUf,GAAGgB,KAAOA,EAAI,OAAO,EAErC,OAAO,CACT,EAEMC,EAAmB,SAACC,EAA8BF,GACtD,IAAK,IAAIhB,EAAI,EAAGA,EAAIkB,EAAUL,OAAQb,IACpC,GAAIkB,EAAUlB,GAAGgB,KAAOA,EAAI,OAAO,EAErC,OAAO,CACT,EAEaG,EAAwB,WACnC,IAAQH,GAAOI,EAAAA,EAAAA,MAAPJ,GACFK,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXT,GAAYU,EAAAA,EAAAA,IAAYC,EAAAA,GACxBR,GAAYO,EAAAA,EAAAA,IAAYE,EAAAA,GAC9BzC,EAA8BC,EAAAA,WAAiCC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAxD0C,EAAOxC,EAAA,GAAEyC,EAAUzC,EAAA,GACpB0C,EAAY3C,EAAAA,QAAa,GA6B/B,OA3BAA,EAAAA,WAAgB,WACa,SAAA4C,IAS1B,OAT0BA,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAA3B,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAlC,KAAAkC,EAAAC,MAAA,cAAAD,EAAAlC,KAAA,EAAAkC,EAAAC,KAAA,EAG2BC,EAAAA,EAAMC,IAAI,qDAAuD1B,GAAI,KAAD,EAAAoB,EAAAG,EAAAI,KAAnFN,EAAID,EAAJC,KACRR,EAAWQ,GAAME,EAAAC,KAAA,gBAAAD,EAAAlC,KAAA,EAAAkC,EAAAK,GAAAL,EAAA,SAEjBM,MAAM,kGACNtB,EAAS,KAAK,yBAAAgB,EAAAO,OAAA,GAAAX,EAAA,mBAEjBY,MAAA,KAAAC,UAAA,EAVoB,WACMjB,EAAAgB,MAAC,KAADC,UAAA,CAU3BC,EACF,GAAG,IAEH9D,EAAAA,WAAgB,WACV2C,EAAUxB,SACZ4C,aAAaC,QAAQ,YAAaC,KAAKC,UAAUtC,GAErD,GAAG,CAACA,IAEJ5B,EAAAA,WAAgB,WACV2C,EAAUxB,SACZ4C,aAAaC,QAAQ,YAAaC,KAAKC,UAAUnC,IAEnDY,EAAUxB,SAAU,CACtB,GAAG,CAACY,IAECU,GASHnC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,iBAAgBC,SAAEiC,EAAQ0B,SACxC7D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BC,EAAAA,EAAAA,KAAC2D,EAAU,CAAC7E,SAAUkD,EAAQlD,YAC9Be,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,EACpCC,EAAAA,EAAAA,KAAA,KAAAD,SAAIiC,EAAQ4B,SACZ/D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CACGiC,EAAQ6B,MACNC,WACAC,QACC,aACA,SAACC,EAAGC,EAAI7D,GAAC,IAAA8D,EAAA,OAAM9D,EAAI,IAAM,KAAsB,QAApB8D,EAAIF,EAAEG,MAAM,gBAAQ,IAAAD,OAAA,EAAhBA,EAAkBE,KAAK,KAAI,IACzD,IAAI,aAGXvE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCC,SAAA,EAC7CC,EAAAA,EAAAA,KAAA,OACEF,UAAS,2BAAAgB,OACPI,EAAqBC,EAAWC,GAAM,SAAW,IAEnDf,QAAS,kBAAMoB,GAAS4C,EAAAA,EAAAA,IAAgBrC,GAAS,EAACjC,UAClDC,EAAAA,EAAAA,KAAA,OACE,kBAAgB,GAChBsE,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,6BAA4B3E,UAClCC,EAAAA,EAAAA,KAAA,QACE2E,SAAS,UACTC,SAAS,UACTC,EAAE,wiCAGR7E,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oCAAmCC,SAC/CsB,EAAiBC,EAAWF,IAC3BpB,EAAAA,EAAAA,KAAC8E,EAAAA,GAAI,CAACC,GAAG,QAAOhF,UACdC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,+BAA8BC,SAAC,yDAGnDC,EAAAA,EAAAA,KAAA,UACEK,QAAS,kBAAMoB,GAASuD,EAAAA,EAAAA,IAAYhD,GAAS,EAC7ClC,UAAU,sCAAqCC,SAAC,2DAlD9DC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,YAAWC,UACxBC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,yDA4DZ,EAEA,G","sources":["assets/img/arrow.svg","components/CartSlider.tsx","pages/ProductCart.tsx"],"sourcesContent":["var _path;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgArrow(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 8,\n    height: 14,\n    viewBox: \"0 0 8 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 13L1 6.93015L6.86175 1\",\n    stroke: \"#000\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrow);\nexport default __webpack_public_path__ + \"static/media/arrow.eb00f20c6f28071bb134cb188bae13a7.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\n\r\n// сделал статичными т.к. делать такой огромный API слишком долго и не имеет смысла\r\n// в реале эти данные само собой будут подтягиваться с бэка\r\nimport cartImg2 from '../assets/img/cart_img/cart-2.jpg';\r\nimport cartImg3 from '../assets/img/cart_img/cart-3.jpg';\r\nimport cartImg4 from '../assets/img/cart_img/cart-4.jpg';\r\nimport cartImg5 from '../assets/img/cart_img/cart-5.jpg';\r\nimport cartImg6 from '../assets/img/cart_img/cart-6.jpg';\r\nimport cartImg7 from '../assets/img/cart_img/cart-7.jpg';\r\nimport cartImg8 from '../assets/img/cart_img/cart-8.jpg';\r\nimport cartImg9 from '../assets/img/cart_img/cart-9.jpg';\r\nimport cartImg10 from '../assets/img/cart_img/cart-10.jpg';\r\nimport cartImg11 from '../assets/img/cart_img/cart-11.jpg';\r\nimport cartImg12 from '../assets/img/cart_img/cart-12.jpg';\r\nimport cartImg13 from '../assets/img/cart_img/cart-13.jpg';\r\nimport cartImg14 from '../assets/img/cart_img/cart-14.jpg';\r\n\r\nimport arrow from '../assets/img/arrow.svg';\r\n\r\ninterface ICartSlider {\r\n  imageUrl: string;\r\n}\r\n\r\nconst CartSlider: React.FC<ICartSlider> = ({ imageUrl }) => {\r\n  const image = [imageUrl, cartImg2, cartImg3, cartImg4, cartImg5, cartImg6, cartImg7, cartImg8, cartImg9, cartImg10, cartImg11, cartImg12, cartImg13, cartImg14]\r\n  const [activeImgIdx, setActiveImgIdx] = React.useState(0);\r\n  const scrollRef = React.useRef<HTMLDivElement>(null);\r\n\r\n  const scrollPrev = () => {\r\n    setActiveImgIdx((prev) => prev - 1);\r\n    scrollRef.current?.scrollBy({\r\n      top: -54,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  const scrollNext = () => {\r\n    setActiveImgIdx((prev) => prev + 1);\r\n    scrollRef.current?.scrollBy({\r\n      top: 54,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"product__cart-slider\">\r\n      <div ref={scrollRef} className=\"product__cart-slider-nav\">\r\n        <div className=\"product__cart-slider-nav-link\">\r\n          {image.map((url, i) => (\r\n            <div className=\"product__cart-slider-nav-img\" key={i}>\r\n              <div className={activeImgIdx === i ? 'active' : ''}>\r\n                <img onClick={() => setActiveImgIdx(i)} src={url} alt=\"\" />\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <button\r\n        onClick={scrollPrev}\r\n        className={`product__cart-slider-nav-prev ${activeImgIdx === 0 ? 'hidden' : ''}`}>\r\n        <img src={arrow} alt=\"<\" />\r\n      </button>\r\n      <button\r\n        onClick={scrollNext}\r\n        className={`product__cart-slider-nav-next ${\r\n          activeImgIdx === image.length - 1 ? 'hidden' : ''\r\n        }`}>\r\n        <img src={arrow} alt=\">\" />\r\n      </button>\r\n\r\n      <div className=\"product__cart-slider-active\">\r\n        <img className=\"\" src={image[activeImgIdx]} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartSlider;\r\n","import axios from 'axios';\r\nimport React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, useNavigate, useParams } from 'react-router-dom';\r\n\r\nimport { TypeProductItem } from '../redux/slice/products/types';\r\nimport { addItemWishlist } from '../redux/slice/wishlist/slice';\r\nimport { addItemCart } from '../redux/slice/cart/slice';\r\nimport { selectWishItems } from '../redux/slice/wishlist/selectors';\r\nimport { selectCartItems } from '../redux/slice/cart/selectors';\r\n\r\nimport CartSlider from '../components/CartSlider';\r\n\r\nconst wishlistItemIncluded = (wishItems: TypeProductItem[], id?: string): Boolean => {\r\n  for (let i = 0; i < wishItems.length; i++) {\r\n    if (wishItems[i].id === id) return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nconst cartItemIncluded = (cartItems: TypeProductItem[], id?: string): Boolean => {\r\n  for (let i = 0; i < cartItems.length; i++) {\r\n    if (cartItems[i].id === id) return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const ProductCart: React.FC = () => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const wishItems = useSelector(selectWishItems);\r\n  const cartItems = useSelector(selectCartItems);\r\n  const [product, setProduct] = React.useState<TypeProductItem>();\r\n  const isMounted = React.useRef(false);\r\n\r\n  React.useEffect(() => {\r\n    async function fetchProduct() {\r\n      try {\r\n        // const { data } = await axios.get('https://64b3aab60efb99d862683de5.mockapi.io/items/' + id);\r\n        const { data } = await axios.get('https://64b7989221b9aa6eb0789204.mockapi.io/items/' + id);\r\n        setProduct(data);\r\n      } catch (error) {\r\n        alert('Что-то пошло не так');\r\n        navigate('/');\r\n      }\r\n    }\r\n    fetchProduct();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    if (isMounted.current) {\r\n      localStorage.setItem('wishItems', JSON.stringify(wishItems));\r\n    }\r\n  }, [wishItems]);\r\n\r\n  React.useEffect(() => {\r\n    if (isMounted.current) {\r\n      localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n    }\r\n    isMounted.current = true;\r\n  }, [cartItems]);\r\n\r\n  if (!product) {\r\n    return (\r\n      <div className=\"container\">\r\n        <h2>Загрузка...</h2>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container \">\r\n      <h2 className=\"content__title\">{product.title}</h2>\r\n      <div className=\"product__cart\">\r\n        <CartSlider imageUrl={product.imageUrl} />\r\n        <div className=\"product__cart-content\">\r\n          <p>{product.descr}</p>\r\n          <div className=\"product__cart-content-buy\">\r\n            <h3>\r\n              {product.price\r\n                .toString()\r\n                .replace(\r\n                  /(\\d{3})+$/,\r\n                  (g, g1, i) => (i ? ' ' : '') + g.match(/.{3}/g)?.join(' '),\r\n                )}{' '}\r\n              ₽\r\n            </h3>\r\n            <div className=\"product__cart-content-buy-wrap\">\r\n              <div\r\n                className={`product-block__wishlist ${\r\n                  wishlistItemIncluded(wishItems, id) ? 'active' : ''\r\n                }`}\r\n                onClick={() => dispatch(addItemWishlist(product))}>\r\n                <svg\r\n                  data-v-7100e328=\"\"\r\n                  width=\"22\"\r\n                  height=\"22\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path\r\n                    fillRule=\"evenodd\"\r\n                    clipRule=\"evenodd\"\r\n                    d=\"M0.25 6.36912C0.25 3.07041 2.65767 0.25 5.79925 0.25C7.49913 0.25 8.99404 1.08608 10 2.36847C11.0059 1.08613 12.5006 0.25 14.1996 0.25C17.3423 0.25 19.75 3.07167 19.75 6.36912C19.75 7.69532 19.2489 8.97129 18.5251 10.1284C17.7997 11.2883 16.8229 12.3733 15.8015 13.3326C13.7592 15.2508 11.4589 16.7397 10.3901 17.3906C10.1504 17.5365 9.84927 17.5365 9.60965 17.3904C8.54109 16.7391 6.24079 15.2501 4.19851 13.3322C3.17709 12.3729 2.20033 11.288 1.47488 10.1283C0.751138 8.97123 0.25 7.69533 0.25 6.36912ZM5.79925 1.75C3.63983 1.75 1.75 3.73625 1.75 6.36912C1.75 7.31789 2.11117 8.31698 2.74658 9.33278C3.38027 10.3458 4.25947 11.3316 5.22537 12.2387C6.94066 13.8496 8.86662 15.1546 10.0001 15.8678C11.1335 15.1552 13.0594 13.8502 14.7746 12.2392C15.7405 11.3321 16.6197 10.3462 17.2534 9.33299C17.8888 8.31707 18.25 7.3179 18.25 6.36912C18.25 3.73751 16.3602 1.75 14.1996 1.75C12.7203 1.75 11.3843 2.66549 10.6719 4.10155C10.5452 4.35679 10.2849 4.51824 10 4.51824C9.71508 4.51824 9.45476 4.35679 9.32813 4.10155C8.61575 2.66559 7.2798 1.75 5.79925 1.75Z\"></path>\r\n                </svg>\r\n              </div>\r\n              <div className=\"product__cart-content-button-wrap\">\r\n                {cartItemIncluded(cartItems, id) ? (\r\n                  <Link to=\"/cart\">\r\n                    <button className=\"product__cart-content-button\">В корзине</button>\r\n                  </Link>\r\n                ) : (\r\n                  <button\r\n                    onClick={() => dispatch(addItemCart(product))}\r\n                    className=\"product__cart-content-button active\">\r\n                    Купить\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCart;\r\n"],"names":["_ref","image","imageUrl","cartImg2","cartImg3","cartImg6","cartImg7","cartImg8","cartImg9","cartImg13","_React$useState","React","_React$useState2","_slicedToArray","activeImgIdx","setActiveImgIdx","scrollRef","_jsxs","className","children","_jsx","ref","map","url","i","onClick","src","alt","_scrollRef$current","prev","current","scrollBy","top","behavior","concat","arrow","_scrollRef$current2","length","wishlistItemIncluded","wishItems","id","cartItemIncluded","cartItems","ProductCart","useParams","dispatch","useDispatch","navigate","useNavigate","useSelector","selectWishItems","selectCartItems","product","setProduct","isMounted","_fetchProduct","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_context","next","axios","get","sent","t0","alert","stop","apply","arguments","fetchProduct","localStorage","setItem","JSON","stringify","title","CartSlider","descr","price","toString","replace","g","g1","_g$match","match","join","addItemWishlist","width","height","viewBox","fill","xmlns","fillRule","clipRule","d","Link","to","addItemCart"],"sourceRoot":""}